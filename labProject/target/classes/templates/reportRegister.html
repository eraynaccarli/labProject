<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Report</title>
<link rel="stylesheet"
	  href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
	  integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" 
	  crossorigin="anonymous">
<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>	  
</head>
<body>
<br>
<br>
<br>
		<!-- create navigation bar(header) -->
		<nav class = "navbar navbar-inverse navbar-fixed-top">
			<div class = "container">
				<div class = "navbar-header">
					<button type = "button" class = "navbar-toggle collapsed"
						data-toggle = "collapse" data-target="#navbar" aria-expanded="false"
						aria-controls="navbar">
						<span class = "sr-only">Toggle navigation</span>
						<span class = "icon-bar"></span>
						<span class = "icon-bar"></span>
						<span class = "icon-bar"></span>
					</button>
					<a class = "navbar-brand" href="#" th:href="@{/}">Report Registration Module</a>
				</div>
			</div>
		</nav>
		
		<!-- Create HTML registration form -->
			<div class = "container">
				<div class = "row">
					<div class = "col-md-6 col-md-offset-3">
					
					<!--success message-->
					<div th:if="${param.success}">
						<div class = "alert alert-info">You've successfully registered!</div>
					</div>
					<h1>Report Registration</h1>
						<form th:action="@{/registrationReport}" method = "post" th:object = "${report}" enctype="multipart/form-data">
						<div class = "form-group">
							<label class = "control-label" for="reportTitle">
							Title </label>
							<input id = "reportTitle" class = "form-control" th:field="*{reportTitle}" required autofocus="autofocus"/>
						</div>
						
						<div class = "form-group">
							<label class = "control-label" for="reportDescription">
							Description</label>
							<textarea id = "reportDescription" class = "form-control" rows="4" cols="50" th:field="*{reportDescription}" required autofocus="autofocus"></textarea>
						</div>
						
						<div class = "form-group">
							<label class = "control-label" for="date">
							Date</label>
							<input id = "date" class = "form-control" th:field="*{date}" required autofocus="autofocus"/>
						</div>
						
						<div class = "form-group">
							<label class = "control-label" for="patientId">
							Patient No</label>
							<input id = "patientId" class = "form-control" type = "number" th:field="*{patientId}" required autofocus="autofocus"/>
						</div>
						
						<div class = "form-group">
							<label class = "control-label" for="laborantId">
							Laborant No</label>
							<input id = "laborantId" class = "form-control" type = "number" th:field="*{laborantId}" required autofocus="autofocus"/>
						</div>
						
						<div class = "form-group">
							 <label>Image: </label>
   							 <input type="file" name="image" accept="image/png, image/jpeg", id = "img" />
						</div>
							<o>
								<img id = "thumbnail" alt = "image preview"/>
								
			      			</o>
						
						<br>
						<br>
						
							<div class = "form-group">
							<button type = "submit" class = "btn btn-success">Register</button>
							<span>Do you want to see the reports ? <a href= "/" th:href="@{/reports}">See Reports</a></span>
							</div>
							</form>
					</div>
				</div>
			</div>
<script type = "text/javascript">
	$('#img').change(function(){
		showImageThumbnail(this);
	});
	
	function showImageThumbnail(fileInput){
		file = fileInput.files[0];
		reader = new FileReader();
		reader.onload = function(e){
			$('#thumbnail').attr('src', e.target.result);
		};
		reader.readAsDataURL(file);
	}
</script>
<script src = "js/jquery-3.1.1.min.js"></script>			
<script src = "js/bootstrap.js"></script>			
</body>
</html>